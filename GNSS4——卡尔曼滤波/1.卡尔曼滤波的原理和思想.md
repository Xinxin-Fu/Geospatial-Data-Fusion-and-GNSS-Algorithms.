# 卡尔曼滤波简介

## 一、核心思想

卡尔曼滤波可以用一句话理解：

> “用你对系统的预测 + 新观测值，得到比单独预测或观测都更准确的结果。”

**类比场景：**
假设你在室外用手机或GPS定位自己：

1. **预测**  
   - 根据上一秒的位置和速度预测自己现在的位置。  
   - 例子：上一次在 `x = 10 m`，速度 `v = 2 m/s`，一秒后预测位置 `x_pred = 12 m`。  
   - 预测存在不确定性（如GPS漂移或路上障碍）。

2. **观测**  
   - 手机测到的GPS位置，比如 `x_gps = 11.8 m`，但GPS本身也有误差。

3. **修正（更新）**  
   - 卡尔曼滤波把预测位置和观测位置结合：
   ```math
   x_est = x_pred + K \cdot (x_gps - x_pred)

---

## 二、简单数学理解

- **系统状态**：我们想知道的量，比如位置、速度，记为 `x`。  
- **预测**：根据上一次状态估计预测下一时刻状态。  
- **观测**：测量值，可能有噪声，记为 `z`。  
- **修正**：把预测和观测加权结合，得到更准确的估计。

公式直观表示为：



## 三、递推思想

卡尔曼滤波的强大之处在于**递推**：

1. **预测**：预测下一步状态和不确定性。  
2. **更新**：用新观测修正预测，得到更准确的估计。  
3. **递推**：用这个新的估计继续下一轮预测，如此循环。

> 不需要保存所有历史数据，每一步都更新即可。

---

## 四、进阶理解（线性、高斯假设）

如果系统是线性、噪声是高斯分布，卡尔曼滤波的数学模型为：

- **状态更新方程（预测）**：
\[
x_k = F x_{k-1} + u
\]

- **观测方程（更新）**：
\[
z_k = H x_k + v
\]

- **递推公式**：
\[
\hat{x}_{k|k} = \hat{x}_{k|k-1} + K_k (z_k - H \hat{x}_{k|k-1})
\]

> 这里的 \(K_k\)（卡尔曼增益）决定了预测和观测的权重。
